<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style type="text/css">
        #white, #black {
            float: left;
            width: 50%;
        }
    </style>

    <link rel="stylesheet" media="screen" type="text/css" href="css/colorpicker.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/colorpicker.js"></script>
</head>
<body>

<div class="head">
    <p>
        <label for="startcolor">Your color: </label>
        #<input type="text" name="startColor" id="startcolor" value="abcdef"/>
    </p>
    <p>
        <label for="interval">Interval: </label>
        <input type="text" name="interval" id="interval" value="5"/>%
    </p>
    <p>
        <button id="start">Start</button>
    </p>
</div>

<div class="root">
    <h1>Colors</h1>
    <div class="cont"></div>
</div>

<script type="text/javascript">
$('#startcolor').ColorPicker({
    onSubmit: function(hsb, hex, rgb, el) {
        $(el).val(hex);
        $(el).ColorPickerHide();
    },
    onBeforeShow: function () {
        $(this).ColorPickerSetColor(this.value);
    }
})
.bind('keyup', function(){
    $(this).ColorPickerSetColor(this.value);
});
</script>

<script type="text/javascript">
(function() {
    var colorContainer = $('.root .cont');

    $('#start').on('click', getColors);

    function getColors() {
        colorContainer.empty();

        var startColor = $('#startcolor').val(),
            black = 0,
            white = parseInt('ffffff', 16),
            percent = parseInt($('#interval').val(), 10);

        i = 0;

        while(true) {

            var color = shadeColor(startColor, -1 * i * percent),
                    colorInt = parseInt(color, 16);

            if(colorInt <= black) break;

            var box = $('<div><span>#' + color + '</span> + <span>' + i*percent + '%</span> </div>');

            box.css({backgroundColor: '#' + color, color: '#fff'});

            box.appendTo(colorContainer);

            i++;

        }

        var i = 1;

        while(true) {

            var color = shadeColor(startColor, i*percent),
                colorInt = parseInt(color, 16);

            if(colorInt >= white) break;

            var box = $('<div><span>#' + color + '</span> - <span>' + i*percent + '%</span> </div>');

            box.css({backgroundColor: '#' + color});

            box.prependTo(colorContainer);

            i++;

        }
    }

    function shadeColor(color, percent) {
        var num = parseInt(color,16),
            amt = Math.round(2.55 * percent),
            R = (num >> 16) + amt,
            B = (num >> 8 & 0x00FF) + amt,
            G = (num & 0x0000FF) + amt;
        return (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (B<255?B<1?0:B:255)*0x100 + (G<255?G<1?0:G:255)).toString(16).slice(1);
    }

    getColors();

})();
</script>

</body>
</html>